# راهنمای دستورات مهم Docker

این مستند شامل دستورات پایه Docker برای اجرای کانتینرها، مدیریت ایمیج‌ها و پاکسازی منابع غیرضروری است. با استفاده از این دستورات می‌توانید به‌راحتی پروژه‌های کانتینری خود را مدیریت کنید.

---

## فهرست مطالب

- [مقدمه](#مقدمه)
- [دستورات پایه](#دستورات-پایه)
  - [اجرای کانتینر (run)](#اجرای-کانتینر-run)
  - [لیست کانتینرها (ps)](#لیست-کانتینرها-ps)
  - [مشاهده لاگ‌ها (logs)](#مشاهده-لاگ‌ها-logs)
  - [اجرای دستور در داخل کانتینر (exec)](#اجرای-دستور-در-داخل-کانتینر-exec)
  - [ساخت یک ایمیج (build)](#ساخت-یک-ایمیج-build)
  - [کشیدن یک ایمیج (pull)](#کشیدن-یک-ایمیج-pull)
  - [ارسال یک ایمیج (push)](#ارسال-یک-ایمیج-push)
  - [بررسی اطلاعات دقیق (inspect)](#بررسی-اطلاعات-دقیق-inspect)
- [دستورات مدیریت کانتینر و ایمیج](#دستورات-مدیریت-کانتینر-و-ایمیج)
  - [توقف یک کانتینر](#توقف-یک-کانتینر)
  - [حذف یک کانتینر](#حذف-یک-کانتینر)
  - [حذف یک ایمیج](#حذف-یک-ایمیج)
- [دستورات پاکسازی](#دستورات-پاکسازی)
  - [حذف تمامی کانتینرهای متوقف شده](#حذف-تمامی-کانتینرهای-متوقف-شده)
  - [حذف تمامی ایمیج‌های بدون استفاده](#حذف-تمامی-ایمیج‌های-بدون-استفاده)
  - [حذف تمامی منابع غیرضروری Docker](#حذف-تمامی-منابع-غیرضروری-docker)
- [نتیجه‌گیری](#نتیجه‌گیری)

---

## مقدمه

داکر(Docker) ابزاری قدرتمند برای ایجاد، اجرای و مدیریت کانتینرهای ایزوله است. در این راهنما، دستورات پایه‌ای که برای مدیریت کانتینرها و ایمیج‌ها نیاز دارید را معرفی می‌کنیم.

---

## دستورات پایه

### اجرای کانتینر (run)

برای اجرای یک کانتینر از یک ایمیج:

```bash
docker run -d --name <container_name> <image_name>
```

**توضیح:**  
- `-d`: اجرای کانتینر در پس‌زمینه (detached mode)
- `--name`: اختصاص نام دلخواه به کانتینر

---

### لیست کانتینرها (ps)

برای مشاهده کانتینرهای در حال اجرا:

```bash
docker ps
```

برای مشاهده تمامی کانتینرها (شامل متوقف شده‌ها):

```bash
docker ps -a
```

---

### مشاهده لاگ‌ها (logs)

برای مشاهده لاگ‌های یک کانتینر:

```bash
docker logs <container_id_or_name>
```

---

### اجرای دستور در داخل کانتینر (exec)

برای اجرای یک دستور در داخل کانتینر (مثلاً باز کردن یک ترمینال bash):

```bash
docker exec -it <container_id_or_name> bash
```

**توضیح:**  
- `-it`: اجرای ترمینال به صورت تعاملی

---

### ساخت یک ایمیج (build)

برای ساخت یک ایمیج از یک Dockerfile:

```bash
docker build -t <image_name>:<tag> .
```

**توضیح:**  
- `-t`: تگ‌گذاری ایمیج
- `.`: دایرکتوری حاوی Dockerfile (دایرکتوری جاری در این مثال)

---

### کشیدن یک ایمیج (pull)

برای دانلود (pull) یک ایمیج از Docker Hub یا رجیستری‌های دیگر:

```bash
docker pull <image_name>:<tag>
```

---

### ارسال یک ایمیج (push)

برای ارسال (push) یک ایمیج به یک رجیستری:

```bash
docker push <image_name>:<tag>
```

---

### بررسی اطلاعات دقیق (inspect)

برای مشاهده اطلاعات دقیق یک کانتینر یا ایمیج:

```bash
docker inspect <container_or_image_id>
```

---

## دستورات مدیریت کانتینر و ایمیج

### توقف یک کانتینر

برای توقف یک کانتینر در حال اجرا:

```bash
docker stop <container_id>
```

---

### حذف یک کانتینر

پس از توقف کانتینر، برای حذف آن:

```bash
docker rm <container_id>
```

---

### حذف یک ایمیج

برای حذف یک ایمیج:

```bash
docker rmi <image_id>
```

---

## دستورات پاکسازی

### حذف تمامی کانتینرهای متوقف شده

برای پاکسازی تمامی کانتینرهای متوقف شده:

```bash
docker container prune
```

**توضیح:**  
این دستور تمامی کانتینرهای متوقف شده را حذف می‌کند. پس از اجرای دستور، از شما تأیید نهایی خواسته می‌شود.

---

### حذف تمامی ایمیج‌های بدون استفاده

برای حذف ایمیج‌هایی که توسط هیچ کانتینری استفاده نمی‌شوند:

```bash
docker image prune -a
```

---

### حذف تمامی منابع غیرضروری Docker

برای پاکسازی تمامی منابع غیرضروری (کانتینرها، ایمیج‌ها، شبکه‌ها و ...) از Docker:

```bash
docker system prune -a
```

**هشدار:**  
این دستور ممکن است برخی از داده‌های مورد نیاز شما را نیز حذف کند. پیش از اجرای آن از اطلاعات مهم نسخه پشتیبان تهیه کنید.

---

## نتیجه‌گیری

این مستند شامل دستورات پایه و مهم Docker برای مدیریت کانتینرها و ایمیج‌ها است. با استفاده از این دستورات می‌توانید برنامه‌های خود را به‌راحتی اجرا، نظارت و پاکسازی کنید. توصیه می‌شود قبل از اجرای دستورات پاکسازی، از اطلاعات مهم نسخه پشتیبان تهیه کنید.
