# ุฑุงูููุง ฺฉุงูู ุฑุงูโุงูุฏุงุฒ Tor + Privoxy ุฏุฑ ููุฏูุฒ


## 1. ููุฏูู
- ุชูุฑ(Tor) ุงุจุฒุงุฑ ุจุฑุง ูุงุดูุงุณโุณุงุฒ ุชุฑุงูฺฉ ุงูุชุฑูุช ุงุณุช ู Privoxy ุจูโุนููุงู ฺฉ ูพุฑุงฺฉุณ ูุญู ุนูู ูโฺฉูุฏ ุชุง ุชุฑุงูฺฉ ุณุณุชู ุฑุง ุงุฒ ุทุฑู Tor ุนุจูุฑ ุฏูุฏ. ุจุง ุชุฑฺฉุจ ุงู ุฏูุ ูโุชูุงู ุชูุงู ุชุฑุงูฺฉ ุณุณุชู ุง ูุฑูุฑฺฏุฑ ุฑุง ุงุฒ ุทุฑู ุดุจฺฉู Tor ูุฏุงุช ฺฉุฑุฏ ุชุง IP ุดูุง ุชุบุฑ ฺฉุฑุฏู ู ุญุฑู ุฎุตูุต ุญูุธ ุดูุฏ.

## 2. ุฏุงูููุฏ ู ูุตุจ

### 2.1 ุฏุงูููุฏ Tor
- ูุจโุณุงุช ุฑุณู: [https://www.torproject.org/download/tor/](https://www.torproject.org/download/tor/)
- ุฏุงูููุฏ ูุณุฎู Tor Expert Bundle
- ุงุณุชุฎุฑุงุฌ ูุงู ZIP ุฏุฑ ูุณุฑ ุฏูุฎูุงู ูุซูุง `C:\Tor`

### 2.2 ุฏุงูููุฏ Privoxy
- ุฏุงูููุฏ: [https://www.privoxy.org](https://www.privoxy.org/sf-download-mirror/Win32/)
- ูุตุจ ุง ุงุณุชุฎุฑุงุฌ ูุณุฎู ููุฏูุฒ ุฏุฑ ูุณุฑ ูุซูุง `C:\Privoxy`

## 3. ูพฺฉุฑุจูุฏ

### 3.1 ูุงู torrc.txt
- ุฏุงุฎู ูพูุดู torุ ูุงู ุจู ุงุณู torrc (ุง torrc.sample) ูุฌูุฏ ุฏุงุฑู. ุงฺฏู torrc ูุจูุฏุ ู ูุงู ูุชู ุฌุฏุฏ ุจู ุงุณู torrc ุจุณุงุฒ.
- ูุงู torrc ุฑู ุจุง Notepad ุจุงุฒ ฺฉู ู ุงู ุฎุทูุท ุฑู ุงุถุงูู ฺฉู ๐
```
SocksPort 9050
ControlPort 9051
CookieAuthentication 0
```

### 3.2 ูุงู config.txt ุจุฑุง Privoxy
- ุจุนุฏ ุงุฒ ูุตุจุ ูุงู config.txt ุฑู ุจุงุฒ ฺฉู
- ูุณุฑ ูุชุฏุงูู ฺฉู ุงุญุชูุงูุง ุงููุฌุง ูุฑุงุฑ ุฏุงุฑู: C:\Program Files (x86)\Privoxy
- ุชู ูุงู ุฏูุจุงู ุฎุท ุจฺฏุฑุฏ ฺฉู ุจุง forward-socks5 ุดุฑูุน ูุดู. ุงฺฏู ูุจูุฏุ ุงุถุงูู ฺฉู๐
- ูุงู ููุช ุจูฺฉ ุฏุฑ ุญุงูุช ุงุฏูู ุจุงุฒ ฺฉูุฏ.
```
forward-socks5t   /   127.0.0.1:9050 .
```

## 4. ุงุฌุฑุง Tor ู Privoxy
ุฏุณุชูุฑุงุช ุฏุฑ ุญุงูุช ุงุฏูู ุงุฌุฑุง ฺฉูุฏ.
```bash
cd C:\Tor
tor.exe -f torrc.txt

cd "C:\Program Files (x86)\Privoxy"
privoxy.exe config.txt
```

## 5. ุชูุธู ุณุณุชู ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูพุฑูฺฉุณ
- ูุณุฑ: **Settings โ Network & Internet โ Proxy**
- ูุนุงู ฺฉุฑุฏู **Use a proxy server**
- Address: `127.0.0.1`
- Port: `8118`

## 6. ุงุชุตุงู ฺฉู ุณุณุชู ุจุง Proxifier
- ูุตุจ Proxifier
- ุงูุฒูุฏู Proxy ุจุง Address `127.0.0.1` ู Port `9050`
- ุณุงุฎุช Rule ุจุฑุง ูุฏุงุช ฺฉู ุชุฑุงูฺฉ
- ูุนุงูโุณุงุฒ **Global Mode**

## 7. ุงุชุตุงู ูุฑูุฑฺฏุฑ ุจุง FoxyProxy
- ูุตุจ ุงูุฒููู FoxyProxy ุฑู Firefox ุง Chrome
- ุณุงุฎุช ูพุฑููุงู ุฌุฏุฏ:
  - Proxy Type: HTTP
  - IP: `127.0.0.1`
  - Port: `8118`
- ูุนุงูโุณุงุฒ ูพุฑููุงู

## 8. ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ ุจุง Batch Script
### start_tor_privoxy.bat
```bat
@echo off
cd /d "C:\Tor"
start "" /B tor.exe -f torrc.txt
timeout /t 8 /nobreak >nul
cd /d "C:\Program Files (x86)\Privoxy"
start "" /B privoxy.exe config.txt
exit
```

### ุงุถุงูู ฺฉุฑุฏู ุจู Startup
- ุณุงุฎุช Shortcut ุงุฒ Batch
- ูุณุฑ: `shell:startup`
- ูุฑุงุฑ ุฏุงุฏู ุดูุฑุชฺฉุงุช

## 9. ุชุณุช ุงุชุตุงู ุจุง Python
```python
import requests

proxies = {
    'http': 'http://127.0.0.1:8118',
    'https': 'http://127.0.0.1:8118'
}

r = requests.get('https://check.torproject.org', proxies=proxies)
print(r.text)
```

## 10. ุฎุทุงูุง ุฑุงุฌ
| ุฎุทุง | ุฏูู ุงุญุชูุงู | ุฑุงูโุญู |
|-----|--------------|--------|
| Port 8118 ุฏุฑ ุญุงู ุงุณุชูุงุฏู ุงุณุช | ุงุฌุฑุง ฺูุฏุจุงุฑู Privoxy | ุจุณุชู ูพุฑุฏุงุฒุด ูุจู ุจุง `tasklist` ู `taskkill` |
| default.filter ูพุฏุง ูุดุฏ | ูุงู ูพุดโูุฑุถ Privoxy ูุฌูุฏ ูุฏุงุฑุฏ | ูุณุฑ ุฑุง ุงุตูุงุญ ุง ูุงู ุฑุง ุงุถุงูู ฺฉูุฏ |
| ุนุฏู ุฏุณุชุฑุณ ุจู logfile | ููุฏูุฒ ุงุฌุงุฒู ููุดุชู ูุฏุงุฑุฏ | ุงุฌุฑุง Privoxy ุจุง Admin ุง ุชุบุฑ ูุณุฑ ูุงู |
| Invalid header received | ุชูุธูุงุช ูพุฑุงฺฉุณ ุงุดุชุจุงู ุฏุฑ ูุฑูุฑฺฏุฑ ุง ุณุณุชู | ุจุฑุฑุณ ูุฌุฏุฏ Proxy ุฏุฑ ูุฑูุฑฺฏุฑ ุง Windows |


ููฺฉ GPT:

https://chatgpt.com/share/68e0f260-dc18-8010-96c2-fe0373e5f9bb
